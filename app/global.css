@import 'tailwindcss';

::selection {
  background-color: #47a3f3;
  color: #fefefe;
}

:root {
  --sh-class: #3f90bf;
  --sh-identifier: #354150;
  --sh-sign: #8996a3;
  --sh-string: #007f7a;
  --sh-keyword: #e02518;
  --sh-comment: #a19595;
  --sh-jsxliterals: #6266d1;
  --sh-property: #e25a1c;
  --sh-entity: #e25a1c;
  /* semantic color tokens (light baseline) */
  --color-bg: var(--color-neutral-50, #fafafa);
  --color-bg-alt: var(--color-neutral-100, #f4f4f5);
  --color-fg: var(--color-neutral-900, #111827);
  --color-fg-muted: var(--color-neutral-600, #52525b);
  --color-border: var(--color-neutral-200, #e5e7eb);
  --color-accent: var(--color-sky-600, #0284c7);
  --color-accent-fg: #ffffff;
  --color-link: var(--color-accent);
  --color-link-hover: var(--color-sky-700, #0369a1);
  --color-code-inline-bg: var(--color-neutral-200, #e5e7eb);
  --color-code-inline-fg: var(--color-fg);
  --color-code-block-bg: #1e1f24; /* dark-ish neutral works in light mode */
  --radius-sm: 4px;
  --radius-md: 8px;
  --transition-fast: 120ms;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    /* only apply when user hasn't explicitly chosen a theme */
    --sh-class: #4fa6d9;
    --sh-identifier: white;
    --sh-keyword: #ff776e;
    --sh-string: #0fa295;
    --color-bg: #111315;
    --color-bg-alt: #1a1d20;
    --color-fg: #f3f4f6;
    --color-fg-muted: #9ca3af;
    --color-border: #30363d;
    --color-accent: #0ea5e9;
    --color-link-hover: #38bdf8;
    --color-code-inline-bg: #1f2329;
    --color-code-inline-fg: #e5e7eb;
    --color-code-block-bg: #1f2329;
    color-scheme: dark;
  }
}

/* Explicit theme: light */
[data-theme='light'] {
  color-scheme: light;
}

/* Explicit theme: dark */
[data-theme='dark'] {
  --color-bg: #0f1115;
  --color-bg-alt: #181b21;
  --color-fg: #f2f4f8;
  --color-fg-muted: #a0a6b4;
  --color-border: #2a2f38;
  --color-accent: #d946ef; /* fuchsia */
  --color-link-hover: #e879f9;
  --color-code-inline-bg: #1d2330;
  --color-code-inline-fg: #f2f4f8;
  --color-code-block-bg: #1d2330;
  --sh-class: #86b9ff;
  --sh-identifier: #f2f4f8;
  --sh-keyword: #f472b6;
  --sh-string: #10b981;
  color-scheme: dark;
}

/* Explicit theme: osaka (black + jade green) */
[data-theme='osaka'] {
  /* Base surfaces */
  --color-bg: #040807;           /* deeper near-black with faint jade undertone */
  --color-bg-alt: #08100e;       /* subtle raised panel */
  /* Text */
  --color-fg: #e3f8f1;           /* crisp light jade-tinted white */
  --color-fg-muted: #7aa497;     /* desaturated jade gray (slightly deeper) */
  /* Borders */
  --color-border: #113d31;       /* darker jade edge */
  /* Accent (richer jade core) */
  --color-accent: #00a86b;       /* primary jade (#00A86B) */
  --color-accent-fg: #012318;    /* readable on accent */
  --color-link: var(--color-accent);
  --color-link-hover: #11c784;   /* brighter hover */
  /* Code backgrounds */
  --color-code-inline-bg: #0b1f19; /* slightly darker for contrast */
  --color-code-inline-fg: #c9f4e7;
  --color-code-block-bg: #0a1814;
  /* Syntax highlight overrides (align with deeper jade accent) */
  --sh-class: #32c59b;           /* balanced jade */
  --sh-identifier: #e3f8f1;
  --sh-keyword: #ff855d;         /* warm contrast slightly deeper */
  --sh-string: #19d4a2;          /* lighter jade string */
  color-scheme: dark;
}

/* Custom classes *********** */

/* ::selection {
  background: var(--accent-color);
} */

html { font-family: var(--font-geist-sans); }
body {
  background: var(--color-bg);
  color: var(--color-fg);
  transition: background-color var(--transition-fast) linear, color var(--transition-fast) linear;
}

@media (min-width: 799px) {
  .mobile {
    display: none;
  }
}

@media (max-width: 799px) {
  .desktop {
    display: none;
  }
}

/* legacy .bg class retained (now driven by tokens) */
.bg { background: var(--color-bg); color: var(--color-fg); }

/* Custom classes */

.main-link { font-weight:500; }
.main-link:hover { color: var(--color-fg-muted); animation:none; }

.blog-list-title { letter-spacing:-0.02em; font-size:1.5rem; line-height:2rem; font-weight:600; margin-bottom:0.25rem; }

.blog-list-title:hover { color: var(--color-fg-muted); }

.blog-list-desc { width:80%; font-size:0.875rem; line-height:1.25rem; margin-bottom:0.25rem; font-weight:400; color: var(--color-fg-muted); }

.blog-list-date { font-size:0.875rem; line-height:1.25rem; font-weight:400; color: var(--color-fg-muted); }

.name-title { font-size:1.875rem; line-height:2.25rem; font-weight:700; }
@media (max-width: 799px) { .name-title { text-align:center; } }

section p { text-align:justify; }

section a { font-weight:700; text-decoration:underline; }

.prose code { padding:0.25rem 0.375rem; border-radius: var(--radius-sm); background: var(--color-code-inline-bg); color: var(--color-code-inline-fg); }

/* Custom classes end *********** */

html {
  min-width: 360px;
}

 .prose .anchor { position:absolute; visibility:hidden; text-decoration:none;

  margin-left: -1em;
  padding-right: 0.5em;
  width: 80%;
  max-width: 700px;
  cursor: pointer;
}

.anchor:hover { visibility:visible; }

.prose a { text-decoration:underline; transition:color var(--transition-fast); text-underline-offset:0.25em; }

.prose .anchor:after { color: var(--color-fg-muted); content:'#'; }

.prose *:hover > .anchor { visibility:visible; }

.prose pre code { padding:0; border:initial; line-height:1.5; }

.prose code span { font-weight:500; }

.prose img { margin:0; }

.prose p { margin-top:1rem; margin-bottom:1rem; color: var(--color-fg); }

.prose h1 { font-size:2.25rem; line-height:2.5rem; font-weight:500; letter-spacing:-0.02em; margin-top:1.5rem; margin-bottom:0.5rem; }

.prose h2 { font-size:1.25rem; line-height:1.75rem; font-weight:500; letter-spacing:-0.01em; margin-top:1.5rem; margin-bottom:0.5rem; }

.prose h3 { font-size:1.25rem; line-height:1.75rem; font-weight:500; margin-top:1.5rem; margin-bottom:0.5rem; }

.prose h4 { font-size:1.125rem; line-height:1.75rem; font-weight:500; margin-top:1.5rem; margin-bottom:0.5rem; }

.prose strong { font-weight:500; }

.prose ul { list-style:disc; padding-left:1.5rem; }

.prose ol { list-style:decimal; padding-left:1.5rem; }

.prose > :first-child {
  /* Override removing top margin, causing layout shift */
  margin-top: 1.25em !important;
  margin-bottom: 1.25em !important;
}

/* Remove Safari input shadow on mobile */
input[type='text'],
input[type='email'] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

table {
  display: block;
  max-width: fit-content;
  overflow-x: auto;
  white-space: nowrap;
}

.title {
  text-wrap: balance;
}
[data-theme='osaka'] .main-link {
  color: var(--color-fg);
  text-decoration: underline;
  text-underline-offset: 4px;
  text-decoration-color: var(--color-accent);
}
[data-theme='osaka'] .main-link:hover,
[data-theme='osaka'] .main-link:focus-visible {
  color: var(--color-accent);
  text-decoration-color: var(--color-accent);
  background: transparent;
  outline: none;
}
[data-theme='osaka'] .prose a {
  text-decoration-color: var(--color-accent);
}
[data-theme='osaka'] .prose a:hover {
  text-decoration-color: var(--color-accent);
  color: var(--color-accent);
}

/* Remove any pseudo-element remnants (defensive) */
[data-theme='osaka'] .main-link::after { content: none !important; }

/* Subtle background pill for nav links on hover/focus */
[data-theme='osaka'] .main-link:hover,
[data-theme='osaka'] .main-link:focus-visible {
  background: rgba(0,168,107,0.08);
  outline: none;
}

/* Global anchor refinement inside prose for Osaka */
[data-theme='osaka'] .prose a {
  text-decoration-color: rgba(0,168,107,0.6);
}
[data-theme='osaka'] .prose a:hover {
  text-decoration-color: var(--color-accent);
  color: var(--color-accent);
}

/* Selection color tweak for Osaka */
[data-theme='osaka'] ::selection {
  background: #00a86b;
  color: #ffffff;
}